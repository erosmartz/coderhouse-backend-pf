<div class="container mt-5">
  <div class="row">
    <div class="col">
      <nav class="navbar navbar-expand-lg navbar-light bg-light mb-4 position-fixed w-100"
        style="top: 0; z-index: 1030;">
        <div class="container-fluid">
          <a class="navbar-brand" href="/api/products">Volver atrás</a>
        </div>
      </nav>
    </div>
  </div>
  <div class="row" style="margin-top: 60px;">
    <div class="col">
      <h1 class="text-center">Tu Carrito de Compras</h1>
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-body">

          <!-- Botón para finalizar proceso de compra -->
          {{#unless isEmptyCart}}
          <button type="button" class="btn btn-secondary mb-2 button-finish-purchase" id="{{cart._id}}">Finalizar
            proceso de compra</button>
          {{/unless}}

          <!-- Botón para vaciar todo el carrito -->
          {{#unless isEmptyCart}}
          <button type="button" class="btn btn-outline-danger mb-2 button-empty-cart" id="{{cart._id}}"> Vaciar
            Carrito</button>
          {{/unless}}

          {{#each cart.products}}
          <div class="list-group mb-2">
            <div class="list-group-item">
              <p class="card-text">Nombre: {{this.name}}</p>
              <p class="card-text">Precio: {{this.price}}</p>
              <p class="card-text">
                Cantidad: <span class="product-quantity badge bg-secondary"
                  id="{{this.quantity}}">{{this.quantity}}</span>
              </p>
              <!-- Botones para aumentar y disminuir cantidad -->
              <iv class="btn-group" role="group">
                <button type="button" class="btn btn-outline-secondary button-decrease-quantity" id="{{this._id}}"
                  data-cart-id="{{../cart._id}}">-</button>
                <button type="button" class="btn btn-outline-secondary button-increase-quantity" id="{{this._id}}"
                  data-cart-id="{{../cart._id}}">+</button>
                <!-- Botón para eliminar un producto del carrito -->
                <button type="button" class="btn btn-outline-secondary button-remove-product" id="{{this._id}}"
                  data-cart-id="{{../cart._id}}">Eliminar Producto</button>
                <div>
                </div>
            </div>
            {{/each}}

            <!-- Total del carrito -->
            <h2 class="card-title">Total {{cart.total}}</h2>

            {{#if isEmptyCart}}
            <p class="mt-3">Este carrito está vacío</p>
            {{/if}}
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="/js/purchase.js"></script>
  <script src="/js/cart.js"></script>